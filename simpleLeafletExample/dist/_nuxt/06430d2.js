(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{236:function(t,e,o){var content=o(245);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(55).default)("1b7833da",content,!0,{sourceMap:!1})},244:function(t,e,o){"use strict";o(236)},245:function(t,e,o){var n=o(54)(!1);n.push([t.i,".card-container{padding:1.5rem;border:1px solid #eceff1;border-radius:6px;box-shadow:rgba(0,7,0,.9)}",""]),t.exports=n},250:function(t,e,o){"use strict";o.r(e);o(124),o(20),o(8),o(30);var n=o(19),r=(o(235),o(234),o(231)),l=o(232),c=o(233),d=o(248),m=o(249),h=(o(238),{components:{LMap:r.a,LTileLayer:l.a,LMarker:c.a,LPopup:d.a,LTooltip:m.a},data:function(){return{name:"",latitude:"",longitude:"",zoom:13,center:Object(n.latLng)(47.41322,-1.219482),url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',withPopup:Object(n.latLng)(47.41322,-1.219482),withTooltip:Object(n.latLng)(47.41422,-1.250482),currentZoom:11.5,currentCenter:Object(n.latLng)(47.41322,-1.219482),showParagraph:!1,mapOptions:{zoomSnap:.5},worker:null,labels:[],tooltipOptions:{permanent:!0},clock:null,timer:null}},created:function(){delete L.Icon.Default.prototype._getIconUrl,L.Icon.Default.mergeOptions({iconRetinaUrl:o(243),iconUrl:o(234),shadowUrl:o(235)}),this.worker=this.$worker.createWorker(),this.worker.addEventListener("message",this.workerResponseHandler)},methods:{addLabel:function(){0===this.validateForm()?this.worker.postMessage({name:this.name,latitude:this.latitude,longitude:this.longitude}):alert("Ошибка при вводе имени")},validateForm:function(){return this.name.length<3?(this.name="",this.latitude="",this.longitude="",-1):this.name.length>75?(this.name="",this.latitude="",this.longitude="",1):0},workerResponseHandler:function(t){var e=this,o={name:t.data.name,coordinates:Object(n.latLng)(t.data.coordinates[0],t.data.coordinates[1])};this.labels.forEach((function(t,n){t.name===o.name&&e.labels.splice(n,1)})),this.labels.push(o),this.clock=Date.now(),this.timer=setInterval(this.checkTimer,1e3)},checkTimer:function(){Date.now()-this.clock>=15e3&&(clearInterval(this.timer),this.labels=[])},zoomUpdate:function(t){this.currentZoom=t},centerUpdate:function(t){this.currentCenter=t}}}),f=(o(244),o(51)),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("main",{staticClass:"col-12 container pt-5 position-relative",staticStyle:{background:"linear-gradient(#35495e, #3b8070)",height:"100vh"}},[o("div",{staticClass:"row justify-content-center position-absolute w-100",staticStyle:{top:"20%"}},[t._m(0),t._v(" "),o("div",{staticClass:"col-5 mr-4 card-container"},[o("p",{staticClass:"text-center",staticStyle:{color:"#ECEFF1","font-weight":"700","font-size":"20px"}},[t._v("Введите название метки и её координаты для отображения на карте")]),t._v(" "),o("div",[o("b-form-group",{staticStyle:{color:"#ECEFF1"},attrs:{label:"Название метки","label-for":"name"}},[o("b-form-input",{attrs:{id:"name",type:"text",placeholder:"Введите название метки"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),o("b-form-group",{staticStyle:{color:"#ECEFF1"},attrs:{label:"Широта","label-for":"latitude"}},[o("b-form-input",{attrs:{id:"latitude",type:"number",placeholder:"Введите широту"},model:{value:t.latitude,callback:function(e){t.latitude=e},expression:"latitude"}})],1),t._v(" "),o("b-form-group",{staticStyle:{color:"#ECEFF1"},attrs:{label:"Долгота","label-for":"longitude"}},[o("b-form-input",{attrs:{id:"longitude",type:"number",placeholder:"Введите долготу"},model:{value:t.longitude,callback:function(e){t.longitude=e},expression:"longitude"}})],1),t._v(" "),o("button",{staticClass:"btn btn-light mt-2",on:{click:t.addLabel}},[t._v("Добавить")])],1)]),t._v(" "),o("div",{staticClass:"col-5 ml-4 card-container"},[o("l-map",{attrs:{id:"map",zoom:t.zoom,center:t.center,options:t.mapOptions},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate}},[o("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._v(" "),t._l(t.labels,(function(e){return o("l-marker",{attrs:{"lat-lng":e.coordinates}},[o("l-tooltip",{attrs:{options:t.tooltipOptions}},[o("div",[t._v(t._s(e.name))])])],1)}))],2)],1)])])}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-12"},[o("h1",{staticClass:"text-center mb-5",staticStyle:{color:"#ECEFF1"}},[t._v("Добавление меток на карту")])])}],!1,null,null,null);e.default=component.exports}}]);